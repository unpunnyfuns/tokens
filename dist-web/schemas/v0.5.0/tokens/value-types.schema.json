{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://tokens.unpunny.fun/schemas/v0.5.0/tokens/value-types.schema.json",
  "title": "Design Token Value Types",
  "description": "Shared value type definitions for design tokens - no dependencies",
  "$comment": "This schema contains all shared value types and helpers used across different token types. It has NO dependencies on other schemas to avoid circular references.",
  "$defs": {
    "tokenTypes": {
      "type": "string",
      "description": "Valid token type identifiers per DTCG spec",
      "enum": [
        "color",
        "dimension",
        "fontFamily",
        "fontWeight",
        "duration",
        "cubicBezier",
        "number",
        "strokeStyle",
        "border",
        "transition",
        "shadow",
        "gradient",
        "typography"
      ]
    },
    "dtcgReference": {
      "type": "string",
      "description": "DTCG reference format: {token.path}",
      "pattern": "^\\{[^{}]+\\}$",
      "$comment": "Matches strings like {colors.primary}, {spacing.small}, etc. Disallows nested braces."
    },
    "$ref": {
      "type": "string",
      "description": "Reference to another token using JSON Pointer syntax",
      "pattern": "^(#(/[^/]+)*|[^#]+#(/[^/]+)*|\\./[^#]+#(/[^/]+)*)$",
      "$comment": "Supports: 1) Internal refs (#/path/to/token), 2) External refs (file.json#/path), 3) Relative refs (./file.json#/path)"
    },
    "dimensionUnits": {
      "description": "Valid DTCG dimension units per spec",
      "enum": [
        "px",
        "rem"
      ]
    },
    "dimensionValue": {
      "description": "A dimension value with unit per DTCG spec",
      "type": "object",
      "properties": {
        "value": {
          "type": "number"
        },
        "unit": {
          "$ref": "#/$defs/dimensionUnits"
        }
      },
      "required": [
        "value",
        "unit"
      ],
      "additionalProperties": false
    },
    "dimensionValueOrRef": {
      "description": "Dimension value (object with value/unit or DTCG reference)",
      "oneOf": [
        {
          "$ref": "#/$defs/dtcgReference"
        },
        {
          "$ref": "#/$defs/dimensionValue"
        },
        {
          "type": "object",
          "properties": {
            "$ref": {
              "$ref": "#/$defs/$ref"
            }
          },
          "required": [
            "$ref"
          ],
          "additionalProperties": false
        }
      ]
    },
    "durationUnits": {
      "description": "Time units for durations",
      "enum": [
        "ms",
        "s"
      ]
    },
    "durationValue": {
      "description": "A duration value with unit",
      "oneOf": [
        {
          "type": "string",
          "pattern": "^\\d+(\\.\\d+)?(ms|s)$"
        },
        {
          "type": "object",
          "properties": {
            "value": {
              "type": "number",
              "minimum": 0
            },
            "unit": {
              "$ref": "#/$defs/durationUnits"
            }
          },
          "required": [
            "value",
            "unit"
          ],
          "additionalProperties": false
        }
      ]
    },
    "colorValueOrRef": {
      "description": "Color value (string, color object, or reference to a token's value)",
      "oneOf": [
        {
          "$ref": "#/$defs/dtcgReference"
        },
        {
          "type": "object",
          "properties": {
            "$ref": {
              "$ref": "#/$defs/$ref"
            }
          },
          "required": [
            "$ref"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "description": "Color object with colorSpace and components",
          "properties": {
            "colorSpace": {
              "type": "string"
            },
            "components": {
              "type": "array"
            },
            "alpha": {
              "type": "number"
            },
            "hex": {
              "type": "string"
            }
          },
          "required": [
            "colorSpace",
            "components"
          ],
          "additionalProperties": false
        }
      ]
    },
    "numberOrRef": {
      "description": "Number or reference to a token's value",
      "oneOf": [
        {
          "type": "number"
        },
        {
          "type": "object",
          "properties": {
            "$ref": {
              "$ref": "#/$defs/$ref"
            }
          },
          "required": [
            "$ref"
          ],
          "additionalProperties": false
        }
      ]
    },
    "percentageOrRef": {
      "description": "Percentage value (0-1) or reference to a token's value",
      "oneOf": [
        {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        {
          "type": "object",
          "properties": {
            "$ref": {
              "$ref": "#/$defs/$ref"
            }
          },
          "required": [
            "$ref"
          ],
          "additionalProperties": false
        }
      ]
    },
    "fontWeightValue": {
      "description": "Font weight value (1-1000 or keyword)",
      "oneOf": [
        {
          "type": "number",
          "minimum": 1,
          "maximum": 1000
        },
        {
          "type": "string",
          "enum": [
            "thin",
            "hairline",
            "extra-light",
            "ultra-light",
            "light",
            "normal",
            "regular",
            "medium",
            "semi-bold",
            "demi-bold",
            "bold",
            "extra-bold",
            "ultra-bold",
            "black",
            "heavy",
            "extra-black",
            "ultra-black"
          ]
        }
      ]
    },
    "fontWeightValueOrRef": {
      "description": "Font weight value or reference to a token's value",
      "oneOf": [
        {
          "$ref": "#/$defs/fontWeightValue"
        },
        {
          "type": "object",
          "properties": {
            "$ref": {
              "$ref": "#/$defs/$ref"
            }
          },
          "required": [
            "$ref"
          ],
          "additionalProperties": false
        }
      ]
    },
    "lineHeightValue": {
      "description": "Line height multiplier (typically 0.5-3)",
      "type": "number",
      "minimum": 0.5,
      "maximum": 3,
      "$comment": "While any positive number is technically valid, practical values are typically between 0.5 and 3"
    },
    "lineHeightValueOrRef": {
      "description": "Line height value or reference to a token's value",
      "oneOf": [
        {
          "$ref": "#/$defs/lineHeightValue"
        },
        {
          "type": "object",
          "properties": {
            "$ref": {
              "$ref": "#/$defs/$ref"
            }
          },
          "required": [
            "$ref"
          ],
          "additionalProperties": false
        }
      ]
    },
    "stringOrRef": {
      "description": "String or reference to a token's value",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "type": "object",
          "properties": {
            "$ref": {
              "$ref": "#/$defs/$ref"
            }
          },
          "required": [
            "$ref"
          ],
          "additionalProperties": false
        }
      ]
    },
    "booleanOrRef": {
      "description": "Boolean or reference to a token's value",
      "oneOf": [
        {
          "type": "boolean"
        },
        {
          "type": "object",
          "properties": {
            "$ref": {
              "$ref": "#/$defs/$ref"
            }
          },
          "required": [
            "$ref"
          ],
          "additionalProperties": false
        }
      ]
    },
    "borderStyleEnum": {
      "description": "Standard border/stroke styles",
      "enum": [
        "solid",
        "dashed",
        "dotted",
        "double",
        "groove",
        "ridge",
        "outset",
        "inset"
      ]
    },
    "lineCapEnum": {
      "description": "Line cap styles for strokes",
      "enum": [
        "round",
        "butt",
        "square"
      ]
    },
    "strokeStyleObject": {
      "description": "Custom stroke style with dash pattern",
      "type": "object",
      "properties": {
        "dashArray": {
          "type": "array",
          "description": "Array of dimension values defining dash pattern",
          "items": {
            "$ref": "#/$defs/dimensionValueOrRef"
          }
        },
        "lineCap": {
          "$ref": "#/$defs/lineCapEnum"
        }
      },
      "required": [
        "dashArray"
      ],
      "additionalProperties": false
    }
  }
}
